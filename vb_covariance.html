

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Benchmarks for covariance &mdash; Vbench performance benchmarks for scikit-learn</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.12-git',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Vbench performance benchmarks for scikit-learn" href="index.html" />
    <link rel="next" title="Benchmarks for decomposition" href="vb_decomposition.html" />
    <link rel="prev" title="Benchmarks for cluster" href="vb_cluster.html" />

  <!-- Reference the theme's stylesheet on the Google CDN -->
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/themes/excite-bike/jquery-ui.css"
        type="text/css" rel="Stylesheet" />
 
  <!-- Reference jQuery and jQuery UI from the CDN. Remember
       that the order of these two elements is important -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js"></script>

<script type="text/javascript">
      $(function(){
        $(".profiler-output").accordion({collapsible: true, header: "p", active: false} );
      });
    </script>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22606712-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>

    <div class="header-wrapper">
      <div class="header">
          <p class="logo"><a href="http://scikit-learn.org/">
            <img src="_static/scikit-learn-logo-small.png" alt="Logo"/>
          </a>
          </p><div class="navbar">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="quick_start.html">Speed Quick Start</a></li>
            <li><a href="http://scikit-learn.org/dev/user_guide.html">User's Guide</a></li>
            <li><a href="http://scikit-learn.org/dev/developers/performance.html">Performance</a></li>
            <li><a href="http://github.com/scikit-learn/scikit-learn">Github</a></li>
            <li><a href="http://github.com/vene/scikit-learn-speed">Speed Github</a></li>
       </ul>
</div>
<!-- end navbar --></div>
    </div>

    <div class="content-wrapper">

      <div class="sphinxsidebar">
	<div class="sphinxsidebarwrapper">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="vb_cluster.html">Benchmarks for cluster</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Benchmarks for covariance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#graphlasso-minimadelon-fit-unsup">GraphLasso-minimadelon-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#graphlasso-blobs-fit-unsup">GraphLasso-blobs-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mincovdet-minimadelon-fit-unsup">MinCovDet-minimadelon-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mincovdet-blobs-fit-unsup">MinCovDet-blobs-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shrunkcovariance-minimadelon-fit-unsup">ShrunkCovariance-minimadelon-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shrunkcovariance-blobs-fit-unsup">ShrunkCovariance-blobs-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ledoitwolf-minimadelon-fit-unsup">LedoitWolf-minimadelon-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ledoitwolf-blobs-fit-unsup">LedoitWolf-blobs-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oas-minimadelon-fit-unsup">OAS-minimadelon-fit_unsup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#oas-blobs-fit-unsup">OAS-blobs-fit_unsup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vb_decomposition.html">Benchmarks for decomposition</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_gaussian_process.html">Benchmarks for gaussian_process</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_linear_model.html">Benchmarks for linear_model</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_mixture.html">Benchmarks for mixture</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_naive_bayes.html">Benchmarks for naive_bayes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_neighbors.html">Benchmarks for neighbors</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_pls.html">Benchmarks for pls</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_semi_supervised.html">Benchmarks for semi_supervised</a></li>
<li class="toctree-l1"><a class="reference internal" href="vb_svm.html">Benchmarks for svm</a></li>
</ul>

          <!--
	   <div class="rel rellarge">
	     
	<!-- rellinks[1:] is an ugly hack to avoid link to module
	    index  --
	<div class="rellink">
	<a href="vb_cluster.html" title="Benchmarks for cluster"
	    accesskey="P">Previous
	    <br>
	    <span class="smallrellink">
	    Benchmarks for c...
	    </span>
	    <span class="hiddenrellink">
	    Benchmarks for cluster
	    </span>
	    
	    </a>
	</div>
	    <div class="spacer">
	    &nbsp;
	    </div>
	
	<div class="rellink">
	<a href="vb_decomposition.html" title="Benchmarks for decomposition"
	    accesskey="N">Next
	    <br>
	    <span class="smallrellink">
	    Benchmarks for d...
	    </span>
	    <span class="hiddenrellink">
	    Benchmarks for decomposition
	    </span>
	    
	    </a>
	</div>
	<!-- Ad a link to the 'up' page --
    </div>
    <p style="text-align: center; background-color: #FFE4E4">This documentation is
    for scikit-learn <strong>version 0.12-git</strong>
    &mdash; <a href="http://scikit-learn.org/stable/support.html#documentation-resources">Other versions</a></p>
    
    <h3>Citing</h3>
    <p>If you use the software, please consider
    <a href="about.html#citing-scikit-learn">citing scikit-learn</a>.</p>
    <h3>This page</h3>
	<ul>
<li><a class="reference internal" href="#">Benchmarks for covariance</a><ul>
<li><a class="reference internal" href="#graphlasso-minimadelon-fit-unsup">GraphLasso-minimadelon-fit_unsup</a></li>
<li><a class="reference internal" href="#graphlasso-blobs-fit-unsup">GraphLasso-blobs-fit_unsup</a></li>
<li><a class="reference internal" href="#mincovdet-minimadelon-fit-unsup">MinCovDet-minimadelon-fit_unsup</a></li>
<li><a class="reference internal" href="#mincovdet-blobs-fit-unsup">MinCovDet-blobs-fit_unsup</a></li>
<li><a class="reference internal" href="#shrunkcovariance-minimadelon-fit-unsup">ShrunkCovariance-minimadelon-fit_unsup</a></li>
<li><a class="reference internal" href="#shrunkcovariance-blobs-fit-unsup">ShrunkCovariance-blobs-fit_unsup</a></li>
<li><a class="reference internal" href="#ledoitwolf-minimadelon-fit-unsup">LedoitWolf-minimadelon-fit_unsup</a></li>
<li><a class="reference internal" href="#ledoitwolf-blobs-fit-unsup">LedoitWolf-blobs-fit_unsup</a></li>
<li><a class="reference internal" href="#oas-minimadelon-fit-unsup">OAS-minimadelon-fit_unsup</a></li>
<li><a class="reference internal" href="#oas-blobs-fit-unsup">OAS-blobs-fit_unsup</a></li>
</ul>
</li>
</ul>

    
  -->
    </div>
	  </div>


      <div class="content">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="benchmarks-for-covariance">
<h1>Benchmarks for covariance<a class="headerlink" href="#benchmarks-for-covariance" title="Permalink to this headline">¶</a></h1>
<div class="section" id="graphlasso-minimadelon-fit-unsup">
<h2>GraphLasso-minimadelon-fit_unsup<a class="headerlink" href="#graphlasso-minimadelon-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">GraphLasso</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;minimadelon&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">GraphLasso</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/GraphLasso-minimadelon-fit_unsup-timing.png" src="_images/GraphLasso-minimadelon-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/GraphLasso-minimadelon-fit_unsup-memory.png" src="_images/GraphLasso-minimadelon-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
</div>
<div class="section" id="graphlasso-blobs-fit-unsup">
<h2>GraphLasso-blobs-fit_unsup<a class="headerlink" href="#graphlasso-blobs-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">GraphLasso</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;blobs&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">GraphLasso</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/GraphLasso-blobs-fit_unsup-timing.png" src="_images/GraphLasso-blobs-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/GraphLasso-blobs-fit_unsup-memory.png" src="_images/GraphLasso-blobs-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
</div>
<div class="section" id="mincovdet-minimadelon-fit-unsup">
<h2>MinCovDet-minimadelon-fit_unsup<a class="headerlink" href="#mincovdet-minimadelon-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">MinCovDet</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;minimadelon&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">MinCovDet</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/MinCovDet-minimadelon-fit_unsup-timing.png" src="_images/MinCovDet-minimadelon-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/MinCovDet-minimadelon-fit_unsup-memory.png" src="_images/MinCovDet-minimadelon-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
</div>
<div class="section" id="mincovdet-blobs-fit-unsup">
<h2>MinCovDet-blobs-fit_unsup<a class="headerlink" href="#mincovdet-blobs-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">MinCovDet</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;blobs&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">MinCovDet</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/MinCovDet-blobs-fit_unsup-timing.png" src="_images/MinCovDet-blobs-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/MinCovDet-blobs-fit_unsup-memory.png" src="_images/MinCovDet-blobs-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         13636 function calls in 1.451 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    1.451    1.451 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    1.451    1.451 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    1.451    1.451 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:515(fit)
     1    0.000    0.000    1.435    1.435 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:259(fast_mcd)
     2    0.003    0.001    1.435    0.717 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:152(select_candidates)
    40    0.169    0.004    1.393    0.035 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:27(c_step)
   128    0.002    0.000    0.682    0.005 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
   128    0.616    0.005    0.661    0.005 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
   247    0.426    0.002    0.426    0.002 {numpy.core.multiarray.dot}
   118    0.002    0.000    0.209    0.002 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
   118    0.018    0.000    0.206    0.002 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:1888(cov)
   147    0.002    0.000    0.062    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/extmath.py:39(_fast_logdet_numpy)
   147    0.015    0.000    0.060    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:1560(slogdet)
  1175    0.049    0.000    0.049    0.000 {numpy.core.multiarray.array}
   966    0.003    0.000    0.048    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
   385    0.032    0.000    0.046    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
   134    0.001    0.000    0.031    0.000 {map}
   147    0.024    0.000    0.024    0.000 {numpy.linalg.lapack_lite.dgetrf}
   930    0.013    0.000    0.013    0.000 {method 'any' of 'numpy.ndarray' objects}
   237    0.012    0.000    0.012    0.000 {method 'mean' of 'numpy.ndarray' objects}
     1    0.001    0.001    0.011    0.011 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:583(reweight_covariance)
   129    0.003    0.000    0.010    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
   129    0.008    0.000    0.008    0.000 {method 'sum' of 'numpy.ndarray' objects}
    30    0.007    0.000    0.007    0.000 {method 'permutation' of 'mtrand.RandomState' objects}
    40    0.003    0.000    0.006    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1862(allclose)
   129    0.003    0.000    0.006    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     1    0.000    0.000    0.006    0.006 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
    89    0.000    0.000    0.004    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:598(argsort)
    89    0.004    0.000    0.004    0.000 {method 'argsort' of 'numpy.ndarray' objects}
   147    0.001    0.000    0.004    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:139(_fastCopyAndTranspose)
   441    0.004    0.000    0.004    0.000 {method 'reduce' of 'numpy.ufunc' objects}
   147    0.001    0.000    0.003    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:902(diagonal)
   147    0.002    0.000    0.003    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:99(_commonType)
   128    0.002    0.000    0.003    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
   147    0.003    0.000    0.003    0.000 {numpy.core.multiarray._fastCopyAndTranspose}
   393    0.003    0.000    0.003    0.000 {numpy.core.multiarray.zeros}
   162    0.001    0.000    0.002    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1508(any)
   147    0.002    0.000    0.002    0.000 {method 'diagonal' of 'numpy.ndarray' objects}
   257    0.001    0.000    0.002    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     2    0.000    0.000    0.002    0.001 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:453(isf)
     2    0.000    0.000    0.002    0.001 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:1521(isf)
   955    0.001    0.000    0.001    0.000 {issubclass}
     1    0.000    0.000    0.001    0.001 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/decomp_svd.py:92(svdvals)
     1    0.001    0.001    0.001    0.001 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/decomp_svd.py:14(svd)
   147    0.001    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:127(_to_native_byte_order)
   147    0.001    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:157(_assertSquareness)
     1    0.000    0.000    0.001    0.001 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py:559(correct_covariance)
   147    0.001    0.000    0.001    0.000 {numpy.core.multiarray.arange}
   128    0.001    0.000    0.001    0.000 {method 'astype' of 'numpy.generic' objects}
   294    0.001    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:71(isComplexType)
   147    0.001    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:151(_assertRank2)
   118    0.001    0.000    0.001    0.000 {method 'astype' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:603(argsreduce)
   842    0.001    0.000    0.001    0.000 {len}
    44    0.000    0.000    0.001    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:173(check_random_state)
   582    0.001    0.000    0.001    0.000 {method 'append' of 'list' objects}
   147    0.000    0.000    0.001    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/linalg/linalg.py:84(_realType)
   258    0.001    0.000    0.001    0.000 {method 'split' of 'str' objects}
    80    0.000    0.000    0.000    0.000 {abs}
   129    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
    40    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1579(all)
   129    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:1258(extract)
   147    0.000    0.000    0.000    0.000 {max}
    40    0.000    0.000    0.000    0.000 {method 'all' of 'numpy.ndarray' objects}
     6    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:32(_wrapit)
   131    0.000    0.000    0.000    0.000 {range}
   135    0.000    0.000    0.000    0.000 {getattr}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:592(valarray)
    94    0.000    0.000    0.000    0.000 {isinstance}
   257    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
   118    0.000    0.000    0.000    0.000 {method 'squeeze' of 'numpy.ndarray' objects}
   118    0.000    0.000    0.000    0.000 {method 'conj' of 'numpy.ndarray' objects}
    16    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1044(ravel)
   147    0.000    0.000    0.000    0.000 {method 'get' of 'dict' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:6(atleast_1d)
   147    0.000    0.000    0.000    0.000 {min}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:2861(median)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1458(product)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:300(repeat)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1379(sum)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:2543(_isf)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:490(sort)
    11    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:1173(_argcheck)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:45(take)
     6    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:1301(place)
    10    0.000    0.000    0.000    0.000 {method 'reshape' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1129(nonzero)
     2    0.000    0.000    0.000    0.000 {zip}
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:1899(__call__)
    16    0.000    0.000    0.000    0.000 {method 'ravel' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:2299(mean)
     6    0.000    0.000    0.000    0.000 {numpy.lib._compiled_base._insert}
     2    0.000    0.000    0.000    0.000 {method 'any' of 'numpy.generic' objects}
     8    0.000    0.000    0.000    0.000 {method 'take' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:1896(freeze)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     2    0.000    0.000    0.000    0.000 {method 'prod' of 'numpy.ndarray' objects}
     8    0.000    0.000    0.000    0.000 {method 'nonzero' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:107(reshape)
     2    0.000    0.000    0.000    0.000 {method 'repeat' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:635(_fix_loc_scale)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/stats/distributions.py:433(__init__)
     1    0.000    0.000    0.000    0.000 {method 'flatten' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1211(shape)
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:120(get_precision)
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/robust_covariance.py
Function: fit at line 515
Total time: 1.45138 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   515                                               def fit(self, X):
   516                                                   """Fits a Minimum Covariance Determinant with the FastMCD algorithm.
   517
   518                                                   Parameters
   519                                                   ----------
   520                                                   X: array-like, shape = [n_samples, n_features]
   521                                                     Training data, where n_samples is the number of samples
   522                                                     and n_features is the number of features.
   523
   524                                                   Returns
   525                                                   -------
   526                                                   self: object
   527                                                     Returns self.
   528
   529                                                   """
   530         1           17     17.0      0.0          self.random_state = check_random_state(self.random_state)
   531         1            6      6.0      0.0          n_samples, n_features = X.shape
   532                                                   # check that the empirical covariance is full rank
   533         1         3495   3495.0      0.2          if (linalg.svdvals(np.dot(X.T, X)) &gt; 1e-8).sum() != n_features:
   534                                                       warnings.warn("The covariance matrix associated to your dataset " \
   535                                                                         "is not full rank")
   536                                                   # compute and store raw estimates
   537         1            5      5.0      0.0          raw_location, raw_covariance, raw_support, raw_dist = fast_mcd(
   538         1            7      7.0      0.0                  X, support_fraction=self.support_fraction,
   539         1            5      5.0      0.0                  cov_computation_method=self._nonrobust_covariance,
   540         1      1435247 1435247.0     98.9                  random_state=self.random_state)
   541         1            7      7.0      0.0          if self.assume_centered:
   542                                                       raw_location = np.zeros(n_features)
   543                                                       raw_covariance = self._nonrobust_covariance(
   544                                                               X[raw_support], assume_centered=True)
   545                                                       raw_dist = np.sum(np.dot(X, linalg.pinv(raw_covariance)) * X, 1)
   546         1            5      5.0      0.0          self.raw_location_ = raw_location
   547         1           11     11.0      0.0          self.raw_covariance_ = raw_covariance
   548         1            6      6.0      0.0          self.raw_support_ = raw_support
   549         1            5      5.0      0.0          self.location_ = raw_location
   550         1            4      4.0      0.0          self.support_ = raw_support
   551         1            4      4.0      0.0          self.dist_ = raw_dist
   552                                                   # obtain consistency at normal models
   553         1         1089   1089.0      0.1          self.correct_covariance(X)
   554                                                   # reweight estimator
   555         1        11459  11459.0      0.8          self.reweight_covariance(X)
   556
   557         1            8      8.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="shrunkcovariance-minimadelon-fit-unsup">
<h2>ShrunkCovariance-minimadelon-fit_unsup<a class="headerlink" href="#shrunkcovariance-minimadelon-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">ShrunkCovariance</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;minimadelon&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">ShrunkCovariance</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/ShrunkCovariance-minimadelon-fit_unsup-timing.png" src="_images/ShrunkCovariance-minimadelon-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/ShrunkCovariance-minimadelon-fit_unsup-memory.png" src="_images/ShrunkCovariance-minimadelon-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         85 function calls in 1.513 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    1.513    1.513 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    1.513    1.513 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    1.513    1.513 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:105(fit)
     1    0.000    0.000    1.481    1.481 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    1.481    1.481 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    1.455    1.455    1.471    1.471 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.000    0.000    0.029    0.029 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     1    0.006    0.006    0.028    0.028 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:1888(cov)
     3    0.019    0.006    0.023    0.008 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.023    0.023    0.023    0.023 {numpy.core.multiarray.dot}
     1    0.000    0.000    0.015    0.015 {map}
     6    0.004    0.001    0.004    0.001 {method 'any' of 'numpy.ndarray' objects}
     1    0.003    0.003    0.003    0.003 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:27(shrunk_covariance)
     1    0.000    0.000    0.002    0.002 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     1    0.002    0.002    0.002    0.002 {numpy.core.multiarray.zeros}
     2    0.000    0.000    0.000    0.000 {method 'mean' of 'numpy.ndarray' objects}
    11    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     2    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     9    0.000    0.000    0.000    0.000 {len}
     4    0.000    0.000    0.000    0.000 {issubclass}
     1    0.000    0.000    0.000    0.000 {method 'squeeze' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {getattr}
     1    0.000    0.000    0.000    0.000 {range}
     5    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {method 'conj' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 105
Total time: 1.51236 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   105                                               def fit(self, X):
   106                                                   """ Fits the shrunk covariance model
   107                                                   according to the given training data and parameters.
   108
   109                                                   Parameters
   110                                                   ----------
   111                                                   X : array-like, shape = [n_samples, n_features]
   112                                                     Training data, where n_samples is the number of samples
   113                                                     and n_features is the number of features.
   114
   115                                                   assume_centered: Boolean
   116                                                     If True, data are not centered before computation.
   117                                                     Useful to work with data whose mean is significantly equal to
   118                                                     zero but is not exactly zero.
   119                                                     If False, data are centered before computation.
   120
   121                                                   Returns
   122                                                   -------
   123                                                   self : object
   124                                                       Returns self.
   125
   126                                                   """
   127                                                   # Not calling the parent object to fit, to avoid a potential
   128                                                   # matrix inversion when setting the precision
   129         1            5      5.0      0.0          if self.assume_centered:
   130                                                       self.location_ = np.zeros(X.shape[1])
   131                                                   else:
   132         1          177    177.0      0.0              self.location_ = X.mean(0)
   133         1            4      4.0      0.0          covariance = empirical_covariance(X,
   134         1        28360  28360.0      1.9                          assume_centered=self.assume_centered)
   135         1         3014   3014.0      0.2          covariance = shrunk_covariance(covariance, self.shrinkage)
   136         1      1480795 1480795.0     97.9          self._set_covariance(covariance)
   137
   138         1            6      6.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="shrunkcovariance-blobs-fit-unsup">
<h2>ShrunkCovariance-blobs-fit_unsup<a class="headerlink" href="#shrunkcovariance-blobs-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">ShrunkCovariance</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;blobs&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">ShrunkCovariance</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/ShrunkCovariance-blobs-fit_unsup-timing.png" src="_images/ShrunkCovariance-blobs-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/ShrunkCovariance-blobs-fit_unsup-memory.png" src="_images/ShrunkCovariance-blobs-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         85 function calls in 0.009 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    0.009    0.009 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    0.009    0.009 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    0.009    0.009 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:105(fit)
     1    0.000    0.000    0.006    0.006 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    0.006    0.006 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    0.005    0.005    0.006    0.006 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.000    0.000    0.003    0.003 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     1    0.000    0.000    0.003    0.003 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:1888(cov)
     1    0.002    0.002    0.002    0.002 {numpy.core.multiarray.dot}
     3    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.000    0.000    0.000    0.000 {map}
     2    0.000    0.000    0.000    0.000 {method 'mean' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:27(shrunk_covariance)
    11    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     6    0.000    0.000    0.000    0.000 {method 'any' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     2    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 {numpy.core.multiarray.zeros}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     5    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     4    0.000    0.000    0.000    0.000 {issubclass}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     9    0.000    0.000    0.000    0.000 {len}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {getattr}
     1    0.000    0.000    0.000    0.000 {range}
     1    0.000    0.000    0.000    0.000 {method 'conj' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 {method 'squeeze' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 105
Total time: 0.008681 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   105                                               def fit(self, X):
   106                                                   """ Fits the shrunk covariance model
   107                                                   according to the given training data and parameters.
   108
   109                                                   Parameters
   110                                                   ----------
   111                                                   X : array-like, shape = [n_samples, n_features]
   112                                                     Training data, where n_samples is the number of samples
   113                                                     and n_features is the number of features.
   114
   115                                                   assume_centered: Boolean
   116                                                     If True, data are not centered before computation.
   117                                                     Useful to work with data whose mean is significantly equal to
   118                                                     zero but is not exactly zero.
   119                                                     If False, data are centered before computation.
   120
   121                                                   Returns
   122                                                   -------
   123                                                   self : object
   124                                                       Returns self.
   125
   126                                                   """
   127                                                   # Not calling the parent object to fit, to avoid a potential
   128                                                   # matrix inversion when setting the precision
   129         1            5      5.0      0.1          if self.assume_centered:
   130                                                       self.location_ = np.zeros(X.shape[1])
   131                                                   else:
   132         1          126    126.0      1.5              self.location_ = X.mean(0)
   133         1            4      4.0      0.0          covariance = empirical_covariance(X,
   134         1         2524   2524.0     29.1                          assume_centered=self.assume_centered)
   135         1          154    154.0      1.8          covariance = shrunk_covariance(covariance, self.shrinkage)
   136         1         5864   5864.0     67.5          self._set_covariance(covariance)
   137
   138         1            4      4.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="ledoitwolf-minimadelon-fit-unsup">
<h2>LedoitWolf-minimadelon-fit_unsup<a class="headerlink" href="#ledoitwolf-minimadelon-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">LedoitWolf</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;minimadelon&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">LedoitWolf</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/LedoitWolf-minimadelon-fit_unsup-timing.png" src="_images/LedoitWolf-minimadelon-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/LedoitWolf-minimadelon-fit_unsup-memory.png" src="_images/LedoitWolf-minimadelon-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         96 function calls in 1.547 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    1.547    1.547 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    1.547    1.547 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    1.547    1.547 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:365(fit)
     1    0.000    0.000    1.464    1.464 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    1.464    1.464 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    1.438    1.438    1.453    1.453 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.003    0.003    0.082    0.082 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:235(ledoit_wolf)
     3    0.069    0.023    0.069    0.023 {numpy.core.multiarray.dot}
     1    0.003    0.003    0.051    0.051 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:144(ledoit_wolf_shrinkage)
     1    0.005    0.005    0.028    0.028 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     3    0.019    0.006    0.023    0.008 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.000    0.000    0.015    0.015 {map}
     6    0.004    0.001    0.004    0.001 {method 'any' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.002    0.002 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     1    0.002    0.002    0.002    0.002 {numpy.core.multiarray.zeros}
     5    0.000    0.000    0.002    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1379(sum)
     5    0.002    0.000    0.002    0.000 {method 'sum' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 {method 'mean' of 'numpy.ndarray' objects}
     9    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
    10    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     5    0.000    0.000    0.000    0.000 {isinstance}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 {method 'sum' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     4    0.000    0.000    0.000    0.000 {issubclass}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     8    0.000    0.000    0.000    0.000 {len}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     1    0.000    0.000    0.000    0.000 {min}
     4    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {getattr}
     1    0.000    0.000    0.000    0.000 {range}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 365
Total time: 1.54453 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   365                                               def fit(self, X):
   366                                                   """ Fits the Ledoit-Wolf shrunk covariance model
   367                                                   according to the given training data and parameters.
   368
   369                                                   Parameters
   370                                                   ----------
   371                                                   X : array-like, shape = [n_samples, n_features]
   372                                                     Training data, where n_samples is the number of samples
   373                                                     and n_features is the number of features.
   374
   375                                                   Returns
   376                                                   -------
   377                                                   self : object
   378                                                       Returns self.
   379
   380                                                   """
   381                                                   # Not calling the parent object to fit, to avoid computing the
   382                                                   # covariance matrix (and potentially the precision)
   383         1            6      6.0      0.0          if self.assume_centered:
   384                                                       self.location_ = np.zeros(X.shape[1])
   385                                                   else:
   386         1          174    174.0      0.0              self.location_ = X.mean(0)
   387         1          126    126.0      0.0          covariance, shrinkage = ledoit_wolf(X - self.location_,
   388         1        81459  81459.0      5.3                          assume_centered=True, block_size=self.block_size)
   389         1            7      7.0      0.0          self.shrinkage_ = shrinkage
   390         1      1462753 1462753.0     94.7          self._set_covariance(covariance)
   391
   392         1            6      6.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="ledoitwolf-blobs-fit-unsup">
<h2>LedoitWolf-blobs-fit_unsup<a class="headerlink" href="#ledoitwolf-blobs-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">LedoitWolf</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;blobs&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">LedoitWolf</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/LedoitWolf-blobs-fit_unsup-timing.png" src="_images/LedoitWolf-blobs-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/LedoitWolf-blobs-fit_unsup-memory.png" src="_images/LedoitWolf-blobs-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         96 function calls in 0.015 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    0.015    0.015 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    0.015    0.015 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    0.015    0.015 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:365(fit)
     1    0.000    0.000    0.008    0.008 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:235(ledoit_wolf)
     3    0.008    0.003    0.008    0.003 {numpy.core.multiarray.dot}
     1    0.000    0.000    0.006    0.006 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    0.006    0.006 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    0.005    0.005    0.005    0.005 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.000    0.000    0.005    0.005 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:144(ledoit_wolf_shrinkage)
     1    0.000    0.000    0.003    0.003 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     3    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.000    0.000    0.000    0.000 {map}
     5    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:1379(sum)
     1    0.000    0.000    0.000    0.000 {method 'mean' of 'numpy.ndarray' objects}
     6    0.000    0.000    0.000    0.000 {method 'any' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     5    0.000    0.000    0.000    0.000 {method 'sum' of 'numpy.ndarray' objects}
     9    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
    10    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     5    0.000    0.000    0.000    0.000 {isinstance}
     1    0.000    0.000    0.000    0.000 {method 'sum' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 {numpy.core.multiarray.zeros}
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     8    0.000    0.000    0.000    0.000 {len}
     4    0.000    0.000    0.000    0.000 {issubclass}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     1    0.000    0.000    0.000    0.000 {min}
     4    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {getattr}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {range}
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 365
Total time: 0.013689 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   365                                               def fit(self, X):
   366                                                   """ Fits the Ledoit-Wolf shrunk covariance model
   367                                                   according to the given training data and parameters.
   368
   369                                                   Parameters
   370                                                   ----------
   371                                                   X : array-like, shape = [n_samples, n_features]
   372                                                     Training data, where n_samples is the number of samples
   373                                                     and n_features is the number of features.
   374
   375                                                   Returns
   376                                                   -------
   377                                                   self : object
   378                                                       Returns self.
   379
   380                                                   """
   381                                                   # Not calling the parent object to fit, to avoid computing the
   382                                                   # covariance matrix (and potentially the precision)
   383         1            6      6.0      0.0          if self.assume_centered:
   384                                                       self.location_ = np.zeros(X.shape[1])
   385                                                   else:
   386         1          130    130.0      0.9              self.location_ = X.mean(0)
   387         1          122    122.0      0.9          covariance, shrinkage = ledoit_wolf(X - self.location_,
   388         1         7925   7925.0     57.9                          assume_centered=True, block_size=self.block_size)
   389         1            5      5.0      0.0          self.shrinkage_ = shrinkage
   390         1         5496   5496.0     40.1          self._set_covariance(covariance)
   391
   392         1            5      5.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="oas-minimadelon-fit-unsup">
<h2>OAS-minimadelon-fit_unsup<a class="headerlink" href="#oas-minimadelon-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">OAS</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;minimadelon&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">OAS</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/OAS-minimadelon-fit_unsup-timing.png" src="_images/OAS-minimadelon-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/OAS-minimadelon-fit_unsup-memory.png" src="_images/OAS-minimadelon-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         76 function calls in 1.509 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    1.509    1.509 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    1.509    1.509 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    1.509    1.509 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:512(fit)
     1    0.000    0.000    1.474    1.474 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    1.474    1.474 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    1.448    1.448    1.464    1.464 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.005    0.005    0.034    0.034 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:398(oas)
     1    0.006    0.006    0.028    0.028 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     3    0.019    0.006    0.023    0.008 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.023    0.023    0.023    0.023 {numpy.core.multiarray.dot}
     1    0.000    0.000    0.015    0.015 {map}
     6    0.004    0.001    0.004    0.001 {method 'any' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.002    0.002 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     1    0.002    0.002    0.002    0.002 {numpy.core.multiarray.zeros}
     2    0.001    0.000    0.001    0.000 {method 'mean' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.001    0.001 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:2299(mean)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
     9    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     1    0.000    0.000    0.000    0.000 {min}
     4    0.000    0.000    0.000    0.000 {issubclass}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     7    0.000    0.000    0.000    0.000 {len}
     1    0.000    0.000    0.000    0.000 {getattr}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {range}
     4    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 512
Total time: 1.50827 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   512                                               def fit(self, X):
   513                                                   """ Fits the Oracle Approximating Shrinkage covariance model
   514                                                   according to the given training data and parameters.
   515
   516                                                   Parameters
   517                                                   ----------
   518                                                   X : array-like, shape = [n_samples, n_features]
   519                                                     Training data, where n_samples is the number of samples
   520                                                     and n_features is the number of features.
   521
   522                                                   Returns
   523                                                   -------
   524                                                   self : object
   525                                                       Returns self.
   526
   527                                                   """
   528                                                   # Not calling the parent object to fit, to avoid computing the
   529                                                   # covariance matrix (and potentially the precision)
   530         1            6      6.0      0.0          if self.assume_centered:
   531                                                       self.location_ = np.zeros(X.shape[1])
   532                                                   else:
   533         1          176    176.0      0.0              self.location_ = X.mean(0)
   534
   535         1        34293  34293.0      2.3          covariance, shrinkage = oas(X - self.location_, assume_centered=True)
   536         1           15     15.0      0.0          self.shrinkage_ = shrinkage
   537         1      1473776 1473776.0     97.7          self._set_covariance(covariance)
   538
   539         1            5      5.0      0.0          return self</pre>
</div>
</div>
</div>
<div class="section" id="oas-blobs-fit-unsup">
<h2>OAS-blobs-fit_unsup<a class="headerlink" href="#oas-blobs-fit-unsup" title="Permalink to this headline">¶</a></h2>
<p><strong>Benchmark setup</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sklearn.covariance</span> <span class="kn">import</span> <span class="n">OAS</span>
<span class="kn">from</span> <span class="nn">deps</span> <span class="kn">import</span> <span class="n">load_data</span>

<span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">X_t</span><span class="p">,</span> <span class="n">y_t</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s">&#39;blobs&#39;</span><span class="p">)</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">OAS</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Benchmark statement</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">obj</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Execution time</strong></p>
<img alt="_images/OAS-blobs-fit_unsup-timing.png" src="_images/OAS-blobs-fit_unsup-timing.png" style="width: 6in;" />
<p><strong>Memory usage</strong></p>
<img alt="_images/OAS-blobs-fit_unsup-memory.png" src="_images/OAS-blobs-fit_unsup-memory.png" style="width: 6in;" />
<p><strong>Additional output</strong></p>
<div class="profiler-output container">
<p>cProfile</p>
<div class="highlight-python"><pre>         76 function calls in 0.009 seconds

Ordered by: cumulative time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     1    0.000    0.000    0.009    0.009 /hardmnt/goblin1/home/nivlad/balls/vbench/vbench/benchmark.py:257(f)
     1    0.000    0.000    0.009    0.009 &lt;f&gt;:1(&lt;module&gt;)
     1    0.000    0.000    0.009    0.009 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:512(fit)
     1    0.000    0.000    0.006    0.006 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:98(_set_covariance)
     1    0.000    0.000    0.006    0.006 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:457(pinv)
     1    0.005    0.005    0.005    0.005 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/basic.py:365(lstsq)
     1    0.000    0.000    0.003    0.003 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py:398(oas)
     1    0.000    0.000    0.002    0.002 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/empirical_covariance_.py:37(empirical_covariance)
     1    0.002    0.002    0.002    0.002 {numpy.core.multiarray.dot}
     3    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/lib/function_base.py:526(asarray_chkfinite)
     1    0.000    0.000    0.000    0.000 {map}
     2    0.000    0.000    0.000    0.000 {method 'mean' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:60(get_lapack_funcs)
     6    0.000    0.000    0.000    0.000 {method 'any' of 'numpy.ndarray' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:45(find_best_lapack_type)
     8    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:167(asarray)
     1    0.000    0.000    0.000    0.000 /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/utils/validation.py:62(array2d)
     9    0.000    0.000    0.000    0.000 {numpy.core.multiarray.array}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:986(trace)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/shape_base.py:58(atleast_2d)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/fromnumeric.py:2299(mean)
     1    0.000    0.000    0.000    0.000 {method 'trace' of 'numpy.ndarray' objects}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/lapack.py:23(cast_to_lapack_prefix)
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:1830(identity)
     1    0.000    0.000    0.000    0.000 {method 'astype' of 'numpy.generic' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:237(asanyarray)
     4    0.000    0.000    0.000    0.000 {issubclass}
     1    0.000    0.000    0.000    0.000 {min}
     1    0.000    0.000    0.000    0.000 {numpy.core.multiarray.zeros}
     2    0.000    0.000    0.000    0.000 {method 'split' of 'str' objects}
     1    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/numpy/core/numeric.py:449(isfortran)
     4    0.000    0.000    0.000    0.000 {method 'append' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {getattr}
     7    0.000    0.000    0.000    0.000 {len}
     1    0.000    0.000    0.000    0.000 {range}
     2    0.000    0.000    0.000    0.000 /home/nivlad/.local/lib/python2.7/site-packages/scipy/linalg/misc.py:22(_datacopied)
     1    0.000    0.000    0.000    0.000 {method 'sort' of 'list' objects}
     1    0.000    0.000    0.000    0.000 {method 'disable' of '_lsprof.Profiler' objects}


.. container::</pre>
</div>
<p>LineProfiler</p>
<div class="highlight-python"><pre>   Timer unit: 1e-06 s

File: /hardmnt/goblin1/home/nivlad/balls/scikit-learn/sklearn/covariance/shrunk_covariance_.py
Function: fit at line 512
Total time: 0.008988 s

Line #      Hits         Time  Per Hit   % Time  Line Contents
==============================================================
   512                                               def fit(self, X):
   513                                                   """ Fits the Oracle Approximating Shrinkage covariance model
   514                                                   according to the given training data and parameters.
   515
   516                                                   Parameters
   517                                                   ----------
   518                                                   X : array-like, shape = [n_samples, n_features]
   519                                                     Training data, where n_samples is the number of samples
   520                                                     and n_features is the number of features.
   521
   522                                                   Returns
   523                                                   -------
   524                                                   self : object
   525                                                       Returns self.
   526
   527                                                   """
   528                                                   # Not calling the parent object to fit, to avoid computing the
   529                                                   # covariance matrix (and potentially the precision)
   530         1           11     11.0      0.1          if self.assume_centered:
   531                                                       self.location_ = np.zeros(X.shape[1])
   532                                                   else:
   533         1          124    124.0      1.4              self.location_ = X.mean(0)
   534
   535         1         2579   2579.0     28.7          covariance, shrinkage = oas(X - self.location_, assume_centered=True)
   536         1            5      5.0      0.1          self.shrinkage_ = shrinkage
   537         1         6260   6260.0     69.6          self._set_covariance(covariance)
   538
   539         1            9      9.0      0.1          return self</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>

        <div class="clearer"></div>
      </div>
    </div>
  

    <div class="footer">
        &copy; .
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3. Design by <a href="http://desgrana.es">Desgrana</a>.
    <span style="padding-left: 5ex;">
    <a href="_sources/vb_covariance.txt"
	    rel="nofollow">Show this page source</a>
    </span>
    </div>
     <div class="rel rellarge">
    
    <div class="buttonPrevious">
      <a href="vb_cluster.html">
        Previous
      </a>  
    </div>
    <div class="buttonNext">
      <a href="vb_decomposition.html">
        Next
      </a>  
    </div>
    
     </div>
     <script type="text/javascript">
       $("div.buttonNext, div.buttonPrevious").hover(
           function () {
               $(this).css('background-color', '#FF9C34');
           },
           function () {
               $(this).css('background-color', '#A7D6E2');
           }
       );
     </script>
  </body>
</html>